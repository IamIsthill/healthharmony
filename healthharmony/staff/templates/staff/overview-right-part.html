{% load static %}
<section class="right-part">
    <div class="action-part">
        <h1>Shortcut</h1>
        <div class="action-button-container">
            <div class="top-buttons">
                <button class="action-button js-add-visit-btn">Add Visit Record</button>
                <button class="action-button js-add-patient">Add New Patient</button>
            </div>
            <div class="check-buttons">
                <button class="icon-button js-check-wheel" title="Check Wheelchairs">
                    <svg width="100"
                         height="94"
                         viewBox="0 0 100 94"
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path d="M20.1636 19.6286C19.5681 19.6705 19.0127 19.9439 18.6162 20.3902C18.2197 20.8365 18.0136 21.4203 18.0422 22.0166C18.0707 22.6129 18.3315 23.1743 18.7688 23.5808C19.2061 23.9872 19.7852 24.2062 20.382 24.1911H31.8016V30.2997C31.6426 30.7723 31.6426 31.284 31.8016 31.7566V42.6104C24.0848 43.7252 18.1096 50.3921 18.1096 58.4098C18.1096 67.2014 25.2851 74.3741 34.0739 74.3741C40.416 74.3741 45.9024 70.6277 48.4743 65.2447H56.8775C56.8775 70.2566 60.9735 74.3741 65.9847 74.3741C70.2001 74.3741 73.753 71.4474 74.7844 67.5393H79.6766C80.2823 67.5393 80.8631 67.2987 81.2913 66.8705C81.7195 66.4422 81.9601 65.8614 81.9601 65.2558C81.9601 64.6502 81.7195 64.0694 81.2913 63.6411C80.8631 63.2129 80.2823 62.9723 79.6766 62.9723H74.7889C73.8903 59.5388 71.0458 56.8821 67.5085 56.2756L61.2039 43.6931C61.0153 43.314 60.725 42.9949 60.3654 42.7714C60.0058 42.5479 59.5911 42.4289 59.1677 42.4277H36.3641V33.3205H50.0382C50.6438 33.3205 51.2246 33.08 51.6529 32.6517C52.0811 32.2235 52.3217 31.6427 52.3217 31.0371C52.3217 30.4314 52.0811 29.8506 51.6529 29.4224C51.2246 28.9942 50.6438 28.7536 50.0382 28.7536H36.3641V21.9009C36.3617 21.2959 36.119 20.7166 35.6896 20.2905C35.2601 19.8644 34.6789 19.6263 34.0739 19.6286H20.382C20.3092 19.6251 20.2364 19.6251 20.1636 19.6286ZM45.2039 46.9902H57.7686L62.6653 56.7746C60.7546 57.533 59.1806 58.9233 58.1518 60.6822H49.86C49.9674 59.9372 50.0382 59.1836 50.0382 58.4098C50.0382 53.9428 48.1793 49.8971 45.2039 46.9902ZM33.9714 46.9947C34.0427 46.998 34.1141 46.998 34.1853 46.9947C40.4547 47.0546 45.4757 52.1202 45.4757 58.4098C45.4757 64.737 40.3956 69.8116 34.0739 69.8116C27.7522 69.8116 22.6766 64.737 22.6766 58.4098C22.6766 52.1173 27.6981 47.0501 33.9714 46.9947ZM34.0561 49.2893C29.0905 49.2881 24.9299 53.4504 24.9311 58.4187C24.9299 63.3871 29.0905 67.5539 34.0561 67.5527C39.0217 67.5539 43.1823 63.3871 43.1811 58.4187C43.1823 53.4504 39.0217 49.2881 34.0561 49.2893ZM34.0561 53.8652C36.2547 53.8646 38.6102 56.219 38.6097 58.4187C38.6102 60.6185 36.2547 62.9773 34.0561 62.9768C31.8575 62.9773 29.502 60.6185 29.5025 58.4187C29.502 56.219 31.8575 53.8646 34.0561 53.8652ZM65.5882 60.7223C65.8872 60.7877 66.1963 60.7922 66.4971 60.7356C68.6119 60.9688 70.253 62.5924 70.4982 64.7055C70.4107 65.0627 70.4107 65.4356 70.4982 65.7927C70.2305 68.073 68.3417 69.8116 65.9847 69.8116C63.4406 69.8116 61.44 67.7922 61.44 65.2447C61.44 62.8341 63.2399 60.9233 65.5882 60.7223ZM65.9847 62.9723C64.7383 62.9723 63.7124 63.9987 63.7124 65.2447C63.7124 66.4906 64.7383 67.5393 65.9847 67.5393C67.2311 67.5393 68.2749 66.4906 68.2749 65.2447C68.2749 63.9987 67.2311 62.9723 65.9847 62.9723Z" fill="black" />
                    </svg>
                </button>
                <button class="icon-button js-check-bed" title="Check Beds">
                    <svg width="100"
                         height="94"
                         viewBox="0 0 100 94"
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.7301 46.8262L17 46.6013V46.25V32C17 24.1642 23.4142 17.75 31.25 17.75H68.75C76.5858 17.75 83 24.1642 83 32V46.25V46.6013L83.2699 46.8262C85.3477 48.5577 86.75 51.346 86.75 54.5V64.625V65.75V73.25C86.75 74.2046 86.4351 74.9418 85.9384 75.4384C85.4417 75.9351 84.7046 76.25 83.75 76.25C82.7954 76.25 82.0582 75.9351 81.5616 75.4384C81.0649 74.9418 80.75 74.2046 80.75 73.25V69.5V68.75H80H20H19.25V69.5V73.25C19.25 74.2046 18.9351 74.9418 18.4384 75.4384C17.9418 75.9351 17.2046 76.25 16.25 76.25C15.2954 76.25 14.5582 75.9351 14.0616 75.4384C13.5649 74.9418 13.25 74.2046 13.25 73.25V65.75V64.625V54.5C13.25 51.346 14.6523 48.5577 16.7301 46.8262ZM76.25 44H77V43.25V32C77 27.4608 73.2892 23.75 68.75 23.75H31.25C26.7108 23.75 23 27.4608 23 32V43.25V44H23.75H27.5H28.25V43.25V39.5C28.25 33.5392 32.7892 29 38.75 29H42.5C45.3074 29 47.7397 30.0504 49.4697 31.7803L50 32.3107L50.5303 31.7803C52.2603 30.0504 54.6926 29 57.5 29H61.25C67.2108 29 71.75 33.5392 71.75 39.5V43.25V44H72.5H76.25ZM65 44H65.75V43.25V39.5C65.75 38.2046 65.3149 37.0668 64.4991 36.2509C63.6832 35.4351 62.5454 35 61.25 35H57.5C56.2046 35 55.0668 35.4351 54.2509 36.2509C53.4351 37.0668 53 38.2046 53 39.5V43.25V44H53.75H65ZM46.25 44H47V43.25V39.5C47 38.2046 46.5649 37.0668 45.7491 36.2509C44.9332 35.4351 43.7954 35 42.5 35H38.75C37.4546 35 36.3168 35.4351 35.5009 36.2509C34.6851 37.0668 34.25 38.2046 34.25 39.5V43.25V44H35H46.25ZM80 62.75H80.75V62V54.5C80.75 53.2046 80.3149 52.0668 79.4991 51.2509C78.6832 50.4351 77.5454 50 76.25 50H65H53.75H46.25H35H23.75C22.4546 50 21.3168 50.4351 20.5009 51.2509C19.6851 52.0668 19.25 53.2046 19.25 54.5V62V62.75H20H80Z" fill="black" stroke="white" stroke-width="1.5" />
                    </svg>
                </button>
                <button class="icon-button js-check-ambulance" title="Check Ambulance">
                    <svg width="100"
                         height="94"
                         viewBox="0 0 100 94"
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path d="M30.8495 42.5422H36.7644V36.6273C36.7644 35.4135 37.7575 34.4203 38.9714 34.4203C40.1853 34.4203 41.1784 35.4135 41.1784 36.6273V42.5422H47.0933C48.3071 42.5422 49.3003 43.5353 49.3003 44.7492C49.3003 45.9631 48.3071 46.9562 47.0933 46.9562H41.1784V52.8711C41.1784 54.0849 40.1853 55.0781 38.9714 55.0781C37.7575 55.0781 36.7644 54.0849 36.7644 52.8711V46.9562H30.8495C29.6356 46.9562 28.6425 45.9631 28.6425 44.7492C28.6425 43.5353 29.6356 42.5422 30.8495 42.5422Z" fill="black" />
                        <path d="M16.2391 18H59.6514C63.624 18 66.8463 21.2223 66.8463 25.1949V33.8244C80.5299 34.95 91.3223 46.4486 91.3223 60.4191V68.4086C91.3223 69.6225 90.3291 70.6156 89.1152 70.6156H79.9561C78.6098 73.4848 75.6744 75.449 72.3197 75.449C69.0533 75.449 66.2062 73.573 64.7937 70.8584C64.7496 70.8584 64.7055 70.8584 64.6393 70.8584H35.1092C33.6967 73.573 30.8717 75.449 27.5832 75.449C24.3168 75.449 21.4697 73.573 20.0572 70.8584H11.207C9.99316 70.8584 9 69.8652 9 68.6514V25.1949C9.02207 21.2443 12.2664 18 16.2391 18ZM86.9303 60.4191C86.9303 48.8764 78.1242 39.3641 66.8684 38.2605V60.5736C68.3471 59.3156 70.2451 58.5652 72.3197 58.5652C76.7117 58.5652 80.3313 61.9199 80.7285 66.2016H86.9082V60.4191H86.9303ZM72.3197 71.057C74.5488 71.057 76.3586 69.2473 76.3586 67.0182C76.3586 64.7891 74.5488 62.9793 72.3197 62.9793C70.0906 62.9793 68.2809 64.7891 68.2809 67.0182C68.2809 69.2473 70.0906 71.057 72.3197 71.057ZM27.6053 71.057C29.8344 71.057 31.6441 69.2473 31.6441 67.0182C31.6441 64.7891 29.8344 62.9793 27.6053 62.9793C25.3762 62.9793 23.5664 64.7891 23.5664 67.0182C23.5664 69.2473 25.3762 71.057 27.6053 71.057ZM13.4361 66.4664H19.1744C19.4613 62.0744 23.125 58.5652 27.6053 58.5652C32.0856 58.5652 35.7492 62.0523 36.0361 66.4664H62.4322V25.1949C62.4322 23.65 61.1742 22.4141 59.6514 22.4141H16.2391C14.6941 22.4141 13.4582 23.6721 13.4582 25.1949V66.4664H13.4361Z" fill="black" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <div class="bar-section">
        <div class="morbidityBar Bar">
            <h4>Morbidity Cases</h4>
            <div class="bar-btn-section">
                <button class="js-category-bar-btn js-category-bar-filter-btn bar-btn bar-btn-active"
                        data-category-data="yearly">12 Months</button>
                <button class="js-category-bar-btn bar-btn" data-category-data="monthly">30 days</button>
                <button class="js-category-bar-btn bar-btn" data-category-data="weekly">7 days</button>
            </div>
            <div id="morbidityBars" class="bar-data"></div>
        </div>
        <div class="collegeBar Bar">
            <h4>Colleges</h4>
            <div class="bar-btn-section">
                <button class="js-department-bar-btn js-department-bar-filter-btn bar-btn bar-btn-active"
                        data-category-data="yearly">12 Months</button>
                <button class="js-department-bar-btn bar-btn" data-category-data="monthly">30 days</button>
                <button class="js-department-bar-btn bar-btn" data-category-data="weekly">7 days</button>
            </div>
            <div id="departmentBars" class="bar-data"></div>
        </div>
    </div>
</section>
<div class="bed-section modal js-check-bed-modal">
    <div class="modal-content bed-modal">
        <span class="material-symbols-outlined close js_close_check_bed_modal">cancel</span>
        <div class="bed-top">
            <h3>Bed Monitor</h3>
            <form action="{% url 'staff-bed' %}" method="post">
                {% csrf_token %}
                <button class="newBed-btn" type="submit">Add New Bed</button>
            </form>
        </div>
        <div class="bedSpace">
            {% if beds %}
                {% for bed in beds %}
                    <form class="singleBed"
                          action="{% url 'staff-bed-handler' bed.id %}"
                          method="post">
                        {% csrf_token %}
                        <input type="hidden" name="status" value="{{ bed.status }}" />
                        <div class="bed-cont">
                            <div class="h4-cont">
                                <h4>Bed {{ forloop.counter }}</h4>
                            </div>
                            <button type="submit">
                                {% if bed.status == True %}
                                    Occupied
                                {% else %}
                                    Available
                                {% endif %}
                            </button>
                        </div>
                    </form>
                    <form action="{% url 'post_delete_bed' bed.id %}" method="POST">
                        {% csrf_token %}
                        <button class="remove-btn" type="submit">Remove Bed</button>
                    </form>
                {% empty %}
                {% endfor %}
            {% else %}
                <h5>No bed available</h5>
            {% endif %}
        </div>
    </div>
</div>
<div class="modal js_check_ambulance_modal">
    <div class="modal-content equipment-modal">
        <form action="{% url 'post_create_update_ambulance' %}" method="POST">
            <span class="material-symbols-outlined close js_close_check_ambulance_modal">cancel</span>
            {% csrf_token %}
            <h1>Ambulance Availability</h1>
            <div class="check_ambulance_form_body">
                <div class="form-group">
                    <label for="ambulanceStatus">Ambulance Status</label>
                    {% if ambulances %}
                        {% for ambulance in ambulances %}
                            <select id="ambulanceStatus" name="ambulance">
                                {% if ambulance.is_avail %}
                                    <option value="available" selected>Available</option>
                                    <option value="away">Away</option>
                                {% else %}
                                    <option value="available">Available</option>
                                    <option value="away" selected>Away</option>
                                {% endif %}
                            </select>
                        {% endfor %}
                    {% else %}
                        <select id="ambulanceStatus" name="ambulance">
                            <option value="available">Available</option>
                            <option value="away">Away</option>
                        </select>
                    {% endif %}
                </div>
            </div>
            <div class="form-buttons">
                <button type="button" class="js_close_check_ambulance_modal cancel-button">Close</button>
                <button class="form-button" type="submit">Update</button>
            </div>
        </form>
    </div>
</div>
<div class="modal js_check_wheelchair_modal">
    <div class="modal-content equipment-modal">
        <h1>Wheelchair Availability</h1>
        <form action="{% url 'post_create_wheelchair' %}"
              method="POST"
              class="js_wheelchair_form">
            <span class="material-symbols-outlined close js_close_check_wheelchair_modal">cancel</span>
            {% csrf_token %}
            <div class="form-group">
                <label for="available_wheelchairs">Available Wheelchairs</label>
                <input type="number"
                       id="available_wheelchairs"
                       name="avail"
                       placeholder="Enter number of available wheelchairs"
                       value="{{ wheelchair_data.avail|default:'0' }}"
                       max="1000"
                       required />
            </div>
            <div class="form-group">
                <label for="unavailable_wheelchairs">Unavailable Wheelchairs</label>
                <input type="number"
                       id="unavailable_wheelchairs"
                       name="unavail"
                       placeholder="Enter number of unavailable wheelchairs"
                       value="{{ wheelchair_data.unavail|default:'0' }}"
                       max="1000"
                       required />
            </div>
            <div class="form-buttons">
                <button type="button" class="js_close_check_wheelchair_modal cancel-button">Cancel</button>
                <button class="form-button" type="submit">Save Changes</button>
            </div>
        </form>
    </div>
</div>
