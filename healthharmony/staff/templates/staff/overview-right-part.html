{% load static %}
<section class="right-part">
    <div class="action-part">
        <h1>Shortcut</h1>
        <div class="action-button-container">
            <div class="button-top">
                <button class="action-button js-add-visit-btn">Add Visit Record</button>
                <button class="action-button js-add-patient">Add New Patient</button>
                <button class="action-button js-check-wheel">Check Wheelchairs</button>
                <button class="action-button js-check-bed">Check Bed</button>
                <button class="action-button js-check-ambulance">Check Ambulances</button>
            </div>
        </div>
    </div>
    <div class="bar-section">
        <div class="morbidityBar Bar">
            <h4>Morbidity Cases</h4>
            <div class="bar-btn-section">
                <button class="js-category-bar-btn js-category-bar-filter-btn bar-btn bar-btn-active"
                        data-category-data="yearly">12 Months</button>
                <button class="js-category-bar-btn bar-btn" data-category-data="monthly">30 days</button>
                <button class="js-category-bar-btn bar-btn" data-category-data="weekly">7 days</button>
            </div>
            <div id="morbidityBars" class="bar-data"></div>
        </div>
        <div class="collegeBar Bar">
            <h4>Colleges</h4>
            <div class="bar-btn-section">
                <button class="js-department-bar-btn js-department-bar-filter-btn bar-btn bar-btn-active"
                        data-category-data="yearly">12 Months</button>
                <button class="js-department-bar-btn bar-btn" data-category-data="monthly">30 days</button>
                <button class="js-department-bar-btn bar-btn" data-category-data="weekly">7 days</button>
            </div>
            <div id="departmentBars" class="bar-data"></div>
        </div>
    </div>
</section>
<div class="bed-section modal js-check-bed-modal">
    <div class="modal-content bed-modal">
        <div class="bed-top">
            <h3>Bed Monitor</h3>
            <form action="{% url 'staff-bed' %}" method="post">
                {% csrf_token %}
                <button class="newBed-btn" type="submit">Add New Bed</button>
            </form>
        </div>
        <div class="bedSpace">
            {% if beds %}
                {% for bed in beds %}
                    <form class="singleBed"
                          action="{% url 'staff-bed-handler' bed.id %}"
                          method="post">
                        {% csrf_token %}
                        <input type="hidden" name="status" value="{{ bed.status }}" />
                        <div class="bed-cont">
                            <div class="h4-cont">
                                <h4>Bed {{ forloop.counter }}</h4>
                            </div>
                            <button type="submit">
                                {% if bed.status == True %}
                                    Occupied
                                {% else %}
                                    Available
                                {% endif %}
                            </button>
                        </div>
                    </form>
                    <form action="{% url 'post_delete_bed' bed.id %}" method="POST">
                        {% csrf_token %}
                        <button type="submit">Remove Bed</button>
                    </form>
                {% empty %}
                {% endfor %}
            {% else %}
                <h5>No bed available</h5>
            {% endif %}
        </div>
    </div>
</div>
<div class="modal js_check_ambulance_modal">
    <div class="modal-content">
        <form action="{% url 'post_create_update_ambulance' %}" method="POST">
            <span class="material-symbols-outlined close js_close_check_ambulance_modal">cancel</span>
            {% csrf_token %}
            <h1>Ambulance Availability</h1>
            <div class="check_ambulance_form_body">
                <label for="ambulanceStatus">Ambulance Status</label>
                {% if ambulances %}
                    {% for ambulance in ambulances %}
                        <select id="ambulanceStatus" name="ambulance">
                            {% if ambulance.is_avail %}
                                <option value="available" selected>Available</option>
                                <option value="away">Away</option>
                            {% else %}
                                <option value="available">Available</option>
                                <option value="away" selected>Away</option>
                            {% endif %}
                        </select>
                    {% endfor %}
                {% else %}
                    <select id="ambulanceStatus" name="ambulance">
                        <option value="available">Available</option>
                        <option value="away">Away</option>
                    </select>
                {% endif %}
            </div>
            <button type="button" class="js_close_check_ambulance_modal">Close</button>
            <button type="submit">Update</button>
        </form>
    </div>
</div>
<div class="modal js_check_wheelchair_modal">
    <div class="modal-content">
        <h1>Wheelchair Availability</h1>
        <form action="{% url 'post_create_wheelchair' %}"
              method="POST"
              class="js_wheelchair_form">
            <span class="material-symbols-outlined close js_close_check_wheelchair_modal">cancel</span>
            {% csrf_token %}
            <label for="available_wheelchairs">Available Wheelchairs</label>
            <input type="number"
                   id="available_wheelchairs"
                   name="avail"
                   placeholder="Enter number of available wheelchairs"
                   value="0"
                   max="1000"
                   required />
            <label for="unavailable_wheelchairs">Unavailable Wheelchairs</label>
            <input type="number"
                   id="unavailable_wheelchairs"
                   name="unavail"
                   placeholder="Enter number of unavailable wheelchairs"
                   value="0"
                   max="1000"
                   required />
            <div class="modal-buttons">
                <button type="button" class="js_close_check_wheelchair_modal">Cancel</button>
                <button type="submit">Save Changes</button>
            </div>
        </form>
    </div>
</div>
